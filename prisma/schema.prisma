// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Paciente {
  id            Int            @id @default(autoincrement())
  cpf           String         @unique
  password      String
  dadosPessoais DadosPessoais?

  @@map("pacientes")
}

model Medico {
  id       Int    @id @default(autoincrement())
  cpf      String @unique
  crm      String @unique
  email    String @unique
  password String

  @@map("medicos")
}

model DadosPessoais {
  id              Int     @id @default(autoincrement())
  nome            String
  conhecidoComo   String
  nomeCompanheiro String
  dataNascimento  String
  idade           Int
  raca            String
  trabalhaEmCasa  Boolean
  ocupacao        String
  cep             String
  endereco        String
  cidade          String
  estado          String
  telefoneFixo    String
  telefoneCelular String
  email           String

  paciente      Paciente @relation(fields: [fk_idPaciente], references: [id])
  fk_idPaciente Int      @unique

  @@map("dadosPessoais")
}
